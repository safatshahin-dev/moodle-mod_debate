define ("mod_debate/debate_view",["jquery","core/ajax","core/str","core/config","core/notification","core/templates"],function(a,b,c,d,e,f){var g={init:function init(c,d,h,i,j,k,l,m,n){var o=0,p="";a.getAllocation=function(a){var b=!0;switch(l){case"0":break;case"1":if(0<m||0<n){b=!1}break;case"2":if(0<m&&0<n){b=!1}else if("positive"===a&&0<m){b=!1}else if("negative"===a&&0<n){b=!1}break;}return b};a(document).on("click",".mod-debate-positive-icon",function(){var b=a.getAllocation("positive");if(0===a("#mod-debate-response-input").length&&b){o=1;p="#mod-debate-pos-side";g.debateResponse(c,d,"mod-debate-positive-response",p,h,i,j,k,o)}});a(document).on("click",".mod-debate-negative-icon",function(){var b=a.getAllocation("negative");if(0===a("#mod-debate-response-input").length&&b){o=0;p="#mod-debate-neg-side";g.debateResponse(c,d,"mod-debate-negative-response",p,h,i,j,k,o)}});a(document).on("click","#mod-debate-cancel-respose",function(){a("#"+h+"-mod-debate").remove();a("div").remove(".mod-debate-find-response")});a(document).on("click","#mod-debate-update-response",function(){var g=a("#mod-debate-response-input").val(),l=b.call([{methodname:"mod_debate_add_debate_respose",args:{courseid:i,debateid:j,cmid:k,response:g,responsetype:o}}]);l[0].done(function(b){if(b){if(0===o){n++}else{m++}a("#"+h+"-mod-debate").remove();a("div").remove(".mod-debate-find-response");f.render("mod_debate/debate_response_output",{user_profile_image:d,user_full_name:c,response:g}).then(function(b){var c=a(p);c.after(b)}).fail(e.exception)}}).fail(e.exception)})},debateResponse:function debateResponse(b,c,d,g,h,i,j,k,l){f.render("mod_debate/debate_response",{response_class:d,user_profile_image:c,user_full_name:b,userid:h+"-mod-debate",courseid:i,debateid:j,cmid:k,responsetype:l}).then(function(b,c){var d=a(g);d.after(b);f.runTemplateJS(c)}).fail(e.exception)}};return g});
//# sourceMappingURL=debate_view.min.js.map
